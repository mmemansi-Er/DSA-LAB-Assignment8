#include <iostream>
#include <algorithm>
using namespace std;

class Node {
public:
    int d;
    Node *l,*r;
    Node(int x){ d=x; l=r=NULL; }
};

class BST {
public:
    Node* insert(Node* r,int x){
        if(r==NULL) return new Node(x);
        if(x<r->d) r->l=insert(r->l,x);
        else if(x>r->d) r->r=insert(r->r,x);
        return r;
    }

    Node* minNode(Node* r){
        while(r && r->l) r=r->l;
        return r;
    }

    Node* del(Node* r,int x){
        if(r==NULL) return r;
        if(x<r->d) r->l=del(r->l,x);
        else if(x>r->d) r->r=del(r->r,x);
        else {
            if(r->l==NULL) return r->r;
            else if(r->r==NULL) return r->l;
            Node* t=minNode(r->r);
            r->d=t->d;
            r->r=del(r->r,t->d);
        }
        return r;
    }

    int maxDepth(Node* r){
        if(r==NULL) return 0;
        return 1+max(maxDepth(r->l),maxDepth(r->r));
    }

    int minDepth(Node* r){
        if(r==NULL) return 0;
        return 1+min(minDepth(r->l),minDepth(r->r));
    }
};

int main(){
    BST t;
    Node* r=NULL;
    r=t.insert(r,50);
    t.insert(r,30);
    t.insert(r,70);
    t.insert(r,20);
    t.insert(r,40);
    t.insert(r,60);
    t.insert(r,80);

    cout<<"Max Depth: "<<t.maxDepth(r)<<endl;
    cout<<"Min Depth: "<<t.minDepth(r)<<endl;
    r=t.del(r,20);
    cout<<"After deletion of 20, Max Depth: "<<t.maxDepth(r)<<endl;
}
